<!doctype html>
<html lang=pt-BR>
<head>
    <meta charset=UTF-8>
    <meta name=viewport content="width=device-width,initial-scale=1">
    <title>Informativo de Acionamento</title>
    
    <!-- Resource Hints -->
    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    <link rel="dns-prefetch" href="//stackpath.bootstrapcdn.com">
    <link rel="preconnect" href="https://stackpath.bootstrapcdn.com" crossorigin>
    <link rel="dns-prefetch" href="//unpkg.com">
    <link rel="preconnect" href="https://unpkg.com" crossorigin>
    <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <link rel="dns-prefetch" href="//gms.stte.com.br">
    <link rel="preconnect" href="https://gms.stte.com.br" crossorigin>
    <link rel="dns-prefetch" href="//stte.com.br">
    <link rel="preconnect" href="https://stte.com.br" crossorigin>
    <link rel="dns-prefetch" href="//us1.locationiq.com">
    <link rel="preconnect" href="https://us1.locationiq.com" crossorigin>
    <link rel="dns-prefetch" href="//nominatim.openstreetmap.org">
    <link rel="preconnect" href="https://nominatim.openstreetmap.org" crossorigin>
    
    <!-- Non-blocking CSS -->
    <link rel="preload" as="style" href="styles.css" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="styles.css"></noscript>
    <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"></noscript>
    <link rel="preload" as="style" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"></noscript>
    <!-- Ensure our overrides apply last -->
    <link rel="stylesheet" href="styles.css">
    
    <link rel=manifest href=manifest.json> 
    
    <!-- Preload likely LCP image -->
    <link rel="preload" as="image" href="https://gms.stte.com.br/gms_rno/images/logo.jpg">

    <!-- Hint browser to warm up next navigation to map -->
    <link rel="prefetch" href="mapa/index.html" as="document" crossorigin>

    <!-- Ensure webfonts render quickly -->
    <style>/* hint: prefer swap for any @font-face that might block */
@font-face{font-display:swap}
</style>
    <link rel="preload" as="font" type="font/woff2" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2?v=4.7.0" crossorigin>
</head>
<body>
    <div class=container>
        <div class=logo-container>
            <img src=https://gms.stte.com.br/gms_rno/images/logo.jpg alt="STTE Logo" class=logo onerror='this.style.display="none"' fetchpriority="high" decoding="async">
        </div>
         
        <div class="stte-icon-container">
            <img src="https://stte.com.br/wp-content/uploads/2025/03/Stte-Favicon.webp" alt="STTE Icon" class="stte-icon" loading="lazy" decoding="async">
        </div>

        <h2>Informe de Acionamento STTE</h2>

        
        <form id=stteForm>
            <label for=analista>ANALISTA NOC:</label>
            <input id=analista placeholder="Digite o nome do analista">

            <label for=supervisor>SUPERVISOR:</label>
            <input id=supervisor placeholder="Digite o nome do supervisor">

            <label for=site-search>ESTAÇÃO:</label>
            <input id=site-search placeholder="Digite para buscar...">
            <div id=dropdown-content class=dropdown-content></div>
    
            <label for=site class=hidden>Estação:</label>
            <select id=site class=hidden onchange=preencherDados()>
                <!-- Opções serão carregadas dinamicamente -->
            </select>
            
            <label for=localidade style="display:none">LOCALIDADE:</label>
            <input id=localidade style="display:none">

            <label for=endereco style="display:none">ENDEREÇO:</label>
            <input id=endereco style="display:none">

            <label for=cn style="display:none">CN:</label>
            <input id=cn style="display:none" placeholder="Digite o CN">

            <label for=uc>UC:</label>
            <input id=uc readonly>

            <label for=alarme>ALARME:</label>
            <select id=alarme>
                <!-- Opções serão carregadas dinamicamente -->
            </select>

            <label for=ami>AMI:</label>
            <input id=ami placeholder="Digite o número AMI">

            <label for=inc>INC:</label>
            <input id=inc placeholder="Digite o número do INC">

            <label for=dataHora>HORA DO ACIONAMENTO:</label>
            <input type="datetime-local" id=dataHora>

            <label for=previsao>PREVISÃO:</label>
            <input type="datetime-local" id=previsao>

            <label for=tecnico>TÉCNICO ACIONADO:</label>
            <input id=tecnico placeholder="Digite o nome do técnico">

            <button type=button onclick=gerarAcionamento()>
                <i class="fa fa-cogs"></i> Gerar
            </button>
            <button type=button onclick=copiarAcionamento()>
                <i class="fa fa-copy"></i> Copiar
            </button>

            <button type=button onclick=toggleFCA()>
                <i class="fa fa-file-text"></i> FCA
            </button>
            <button type=button onclick=toggleProtocolo()>
                <i class="fa fa-clipboard"></i> Protocolo
            </button>
            <button type=button onclick=abrirMapa()>
                <i class="fa fa-map-marked-alt"></i> Mapa Interativo
            </button>
        </form>
        
        <div class=result id=resultado></div>
        
        <!-- Sistema FCA (inicialmente oculto) -->
        <div class="fca-container" style="display: none;">
            <h2>Informe de FCA STTE</h2>
            <form id="fcaForm">
                <label for="noc">NOC:</label>
                <input id="noc" placeholder="Digite o nome do NOC">
                
                <label for="dataHoraFCA">DATA E HORA:</label>
                <input type="datetime-local" id="dataHoraFCA">
                
                <label for="fator">FATOR:</label>
                <input id="fator" placeholder="Ex: ENERGIA">
                
                <label for="causa">CAUSA:</label>
                <input id="causa" placeholder="Ex: FALHA DE ENERGIA">
                
                <label for="acao">AÇÃO:</label>
                <textarea id="acao" placeholder="Ex: GMG ATUOU ATÉ A NORMALIZAÇÃO DA ENERGIA PELA CONCESSIONARIA" rows="3"></textarea>
                
                <button type="button" onclick="gerarFCA()">
                    <i class="fa fa-file-text"></i> Gerar FCA
                </button>
                <button type="button" onclick="copiarFCA()">
                    <i class="fa fa-copy"></i> Copiar FCA
                </button>
                <button type="button" onclick="limparFCA()">
                    <i class="fa fa-eraser"></i> Limpar
                </button>
                <button type="button" onclick="voltarAcionamento()">
                    <i class="fa fa-arrow-left"></i> Voltar ao Acionamento
                </button>
            </form>
            <div class="result" id="resultadoFCA"></div>
        </div>
        
        <!-- Sistema Protocolo (inicialmente oculto) -->
        <div class="protocolo-container" style="display: none;">
            <h2>Informativo de Protocolo</h2>
            <form id="protocoloForm">
                <label for="site-protocolo">SITE:</label>
                <input type="text" id="site-protocolo" placeholder="Digite para buscar...">
                <div id="dropdown-protocolo" class="dropdown-content"></div>
        
                <select id="site-select-protocolo" class="hidden" onchange="preencherDadosProtocolo()">
                    <!-- Opções serão preenchidas dinamicamente -->
                </select>
                
                <label for="uc-protocolo">UC:</label>
                <input type="text" id="uc-protocolo" readonly>
                    
                <label for="endereco-protocolo">ENDEREÇO:</label>
                <input type="text" id="endereco-protocolo" readonly>

                <label for="protocolo-numero">PROTOCOLO:</label>
                <input type="text" id="protocolo-numero" placeholder="DIGITE O PROTOCOLO">

                <label for="atendente-protocolo">ATENDENTE:</label>
                <input type="text" id="atendente-protocolo" placeholder="DIGITE O ATENDENTE">

                <button type="button" onclick="gerarProtocolo()">
                    <i class="fa fa-cogs"></i> Gerar Protocolo
                </button>
                <button type="button" onclick="copiarProtocolo()">
                    <i class="fa fa-copy"></i> Copiar Protocolo
                </button>
                <button type="button" onclick="limparProtocolo()">
                    <i class="fa fa-eraser"></i> Limpar
                </button>
                <button type="button" onclick="voltarAcionamentoProtocolo()">
                    <i class="fa fa-arrow-left"></i> Voltar ao Acionamento
                </button>
            </form>
            <div class="result" id="resultadoProtocolo"></div>
        </div>
        

    </div>
    
    <script src=carregar-opcoes.js defer></script>
    <script src=coordenadas.js defer></script>
    <script src=scripts.js defer></script>
    <script src=fca.js defer></script>
    <script src=protocolo.js defer></script>
    
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-info">
                <i class="fa fa-user"></i>
                <span>Thalyson Silva</span>
            </div>
            <div class="footer-info">
                <i class="fa fa-building"></i>
                <span>NOC - STTE</span>
            </div>
            <div class="footer-info">
                <i class="fa fa-envelope"></i>
                <a href="mailto:thalyson.silva.pa@stte.com.br">thalyson.silva.pa@stte.com.br</a>
            </div>
        </div>
    </footer>
<script>
    window.addEventListener('load', function(){
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js')
                .then(function(){ console.log('Service Worker registrado com sucesso!'); })
                .catch(function(r){ console.log('Erro ao registrar Service Worker:', r); });
        }
    });
</script>
</body>
</html>
 
